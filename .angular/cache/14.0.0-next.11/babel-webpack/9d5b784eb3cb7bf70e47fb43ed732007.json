{"ast":null,"code":"import log from 'loglevel';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../auth/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/form-field\";\nimport * as i4 from \"@angular/material/input\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\n\nfunction LoginLogoutComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 2);\n    i0.ɵɵlistener(\"submit\", function LoginLogoutComponent_form_0_Template_form_submit_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onLogout());\n    });\n    i0.ɵɵelementStart(1, \"button\", 3)(2, \"span\", 4);\n    i0.ɵɵtext(3, \"Logout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"i\", 5);\n    i0.ɵɵtext(5, \"chevron_right\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction LoginLogoutComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 2);\n    i0.ɵɵlistener(\"submit\", function LoginLogoutComponent_ng_template_2_Template_form_submit_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onLogin());\n    });\n    i0.ɵɵelementStart(1, \"div\", 6)(2, \"mat-form-field\")(3, \"mat-label\", 7)(4, \"small\");\n    i0.ɵɵtext(5, \"Benutzername\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginLogoutComponent_ng_template_2_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.username = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"div\", 6)(8, \"mat-form-field\")(9, \"mat-label\", 9)(10, \"small\");\n    i0.ɵɵtext(11, \"Passwort\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginLogoutComponent_ng_template_2_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.password = $event);\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"div\", 6)(14, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function LoginLogoutComponent_ng_template_2_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onLogin());\n    });\n    i0.ɵɵtext(15, \" Login \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.username);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.password);\n  }\n}\n\nexport class LoginLogoutComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    log.debug('LoginLogoutComponent.constructor()');\n  }\n\n  ngOnInit() {\n    log.debug('LoginLogoutComponent.ngOnInit: ', this.authService.isLoggedIn);\n    this.isLoggedIn$ = this.authService.isLoggedIn$;\n    this.isLoggedIn$.subscribe(); // Initialisierung, falls zwischenzeitlich der Browser geschlossen wurde\n\n    this.init = this.authService.isLoggedIn;\n  }\n\n  onLogin() {\n    log.debug('LoginLogoutComponent.onLogin()');\n\n    if (this.username === undefined || this.username === null) {\n      return;\n    }\n\n    const loginResult = this.authService.login(this.username, this.password);\n    this.init = false;\n    return loginResult;\n  }\n  /**\r\n   * Ausloggen und dabei Benutzername und Passwort zur&uuml;cksetzen.\r\n   */\n\n\n  onLogout() {\n    log.debug('LoginLogoutComponent.onLogout()');\n    this.authService.logout();\n    this.init = false;\n    this.isLoggedIn$.next(false);\n    return this.router.navigate(['/']);\n  }\n\n}\n\nLoginLogoutComponent.ɵfac = function LoginLogoutComponent_Factory(t) {\n  return new (t || LoginLogoutComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nLoginLogoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginLogoutComponent,\n  selectors: [[\"hs-login-logout\"]],\n  decls: 4,\n  vars: 4,\n  consts: [[\"class\", \"row row-cols-md-auto g-3 align-items-center\", \"autocomplete\", \"off\", \"role\", \"form\", 3, \"submit\", 4, \"ngIf\", \"ngIfElse\"], [\"login\", \"\"], [\"autocomplete\", \"off\", \"role\", \"form\", 1, \"row\", \"row-cols-md-auto\", \"g-3\", \"align-items-center\", 3, \"submit\"], [\"type\", \"submit\", 1, \"btn\", \"btn-link\", \"text-light\"], [1, \"me-1\"], [1, \"material-icons\", \"md-48\"], [1, \"col-12\"], [\"for\", \"usernameInput\", 1, \"col-form-label\"], [\"id\", \"usernameInput\", \"type\", \"search\", \"tabindex\", \"1\", \"autocomplete\", \"off\", \"required\", \"\", \"name\", \"username\", \"matInput\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"passwordInput\", 1, \"col-form-label\"], [\"id\", \"passwordInput\", \"type\", \"password\", \"tabindex\", \"2\", \"autocomplete\", \"off\", \"required\", \"\", \"name\", \"password\", \"matInput\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"tabindex\", \"3\", 1, \"btn\", \"btn-link\", \"text-light\", \"text-decoration-none\", 3, \"click\"]],\n  template: function LoginLogoutComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, LoginLogoutComponent_form_0_Template, 6, 0, \"form\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, LoginLogoutComponent_ng_template_2_Template, 16, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(3);\n\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.isLoggedIn$) || ctx.init)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i3.MatFormField, i3.MatLabel, i4.MatInput, i5.NgIf, i6.ɵNgNoValidate, i6.DefaultValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.RequiredValidator, i6.NgModel, i6.NgForm, i5.AsyncPipe],\n  styles: [\"small[_ngcontent-%COMP%] {\\n  color: whitesmoke;\\n}\\n\\n\\n\\n  .mat-form-field.mat-focused .mat-form-field-label {\\n  color: whitesmoke !important;\\n}\\n\\n\\n\\n  .mat-focused .mat-form-field-underline .mat-form-field-ripple {\\n  background-color: whitesmoke !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7QUFDRjs7QUFFQSxrQ0FBQTs7QUFDQTtFQUNFLDRCQUFBO0FBQ0Y7O0FBRUEsc0NBQUE7O0FBQ0E7RUFDRSx1Q0FBQTtBQUNGOztBQUVBLHFCQUFBIiwiZmlsZSI6ImxvZ2luLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsic21hbGwge1xyXG4gIGNvbG9yOiB3aGl0ZXNtb2tlO1xyXG59XHJcblxyXG4vKiBDaGFuZ2UgbGFiZWwgY29sb3Igb24gZm9jdXNlZCAqL1xyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XHJcbiAgY29sb3I6IHdoaXRlc21va2UgIWltcG9ydGFudDtcclxufVxyXG5cclxuLyogdW5kZXJsaW5lIGJvcmRlciBjb2xvciBvbiBmb2N1c2VkICovXHJcbjo6bmctZGVlcCAubWF0LWZvY3VzZWQgLm1hdC1mb3JtLWZpZWxkLXVuZGVybGluZSAubWF0LWZvcm0tZmllbGQtcmlwcGxlIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZXNtb2tlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi8qIHVuZGVybGluZSBib3JkZXIgKi9cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC11bmRlcmxpbmUge1xyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["log","i0","LoginLogoutComponent","constructor","authService","router","debug","ngOnInit","isLoggedIn","isLoggedIn$","subscribe","init","onLogin","username","undefined","loginResult","login","password","onLogout","logout","next","navigate","selectors","decls","vars","consts","template","_r1"],"sourceRoot":"","sources":["C:\\Users\\Student\\Desktop\\Fahrzeug\\Fahrzeug-A2\\src\\app\\layout\\header\\login-logout.component.ts","C:\\Users\\Student\\Desktop\\Fahrzeug\\Fahrzeug-A2\\src\\app\\layout\\header\\login-logout.component.html"],"sourcesContent":["import { Component, type OnInit } from '@angular/core';\nimport { AuthService } from '../../auth/auth.service';\nimport { Subject } from 'rxjs';\nimport { Router } from '@angular/router';\nimport log from 'loglevel';\n\n@Component({\n    selector: 'hs-login-logout',\n    templateUrl: './login-logout.component.html',\n    styleUrls: ['./login.component.scss'],\n})\nexport class LoginLogoutComponent implements OnInit {\n    username: string | undefined;\n    password: string | undefined;\n\n    // Observable.subscribe() aus RxJS liefert ein Subscription Objekt,\n    // mit dem man den Request auch abbrechen (\"cancel\") kann\n    // https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/subscribe.md\n    // http://stackoverflow.com/questions/34533197/what-is-the-difference-between-rx-observable-subscribe-and-foreach\n    // https://xgrommx.github.io/rx-book/content/observable/observable_instance_methods/subscribe.html\n    // Funktion als Funktionsargument, d.h. Code als Daten uebergeben\n    // Suffix \"$\" wird als \"Finnish Notation\" bezeichnet https://medium.com/@benlesh/observables-and-finnish-notation-df8356ed1c9b\n    isLoggedIn$!: Subject<boolean>;\n    init!: boolean;\n\n    constructor(\n        private readonly authService: AuthService,\n        private readonly router: Router,\n    ) {\n        log.debug('LoginLogoutComponent.constructor()');\n    }\n\n    ngOnInit() {\n        log.debug(\n            'LoginLogoutComponent.ngOnInit: ',\n            this.authService.isLoggedIn,\n        );\n\n        this.isLoggedIn$ = this.authService.isLoggedIn$;\n        this.isLoggedIn$.subscribe();\n\n        // Initialisierung, falls zwischenzeitlich der Browser geschlossen wurde\n        this.init = this.authService.isLoggedIn;\n    }\n\n    onLogin() {\n        log.debug('LoginLogoutComponent.onLogin()');\n        if (this.username === undefined || this.username === null) {\n            return;\n        }\n        const loginResult = this.authService.login(\n            this.username,\n            this.password,\n        );\n        this.init = false;\n        return loginResult;\n    }\n\n    /**\n     * Ausloggen und dabei Benutzername und Passwort zur&uuml;cksetzen.\n     */\n    onLogout() {\n        log.debug('LoginLogoutComponent.onLogout()');\n        this.authService.logout();\n        this.init = false;\n        this.isLoggedIn$.next(false);\n        return this.router.navigate(['/']);\n    }\n}\n","<form\n  class=\"row row-cols-md-auto g-3 align-items-center\"\n  autocomplete=\"off\"\n  role=\"form\"\n  (submit)=\"onLogout()\"\n  *ngIf=\"(isLoggedIn$ | async) || init; else login\"\n>\n  <button type=\"submit\" class=\"btn btn-link text-light\">\n    <span class=\"me-1\">Logout</span>\n    <i class=\"material-icons md-48\">chevron_right</i>\n  </button>\n</form>\n\n<ng-template #login>\n  <form\n    class=\"row row-cols-md-auto g-3 align-items-center\"\n    autocomplete=\"off\"\n    role=\"form\"\n    (submit)=\"onLogin()\"\n  >\n    <div class=\"col-12\">\n      <mat-form-field>\n        <mat-label for=\"usernameInput\" class=\"col-form-label\">\n          <small>Benutzername</small>\n        </mat-label>\n        <input\n          id=\"usernameInput\"\n          type=\"search\"\n          tabindex=\"1\"\n          autocomplete=\"off\"\n          required\n          [(ngModel)]=\"username\"\n          name=\"username\"\n          matInput\n        />\n      </mat-form-field>\n    </div>\n\n    <div class=\"col-12\">\n      <mat-form-field>\n        <mat-label for=\"passwordInput\" class=\"col-form-label\">\n          <small>Passwort</small>\n        </mat-label>\n        <input\n          id=\"passwordInput\"\n          type=\"password\"\n          tabindex=\"2\"\n          autocomplete=\"off\"\n          required\n          [(ngModel)]=\"password\"\n          name=\"password\"\n          matInput\n        />\n      </mat-form-field>\n    </div>\n    <div class=\"col-12\">\n      <button\n        type=\"submit\"\n        class=\"btn btn-link text-light text-decoration-none\"\n        tabindex=\"3\"\n        (click)=\"onLogin()\"\n      >\n        Login\n      </button>\n    </div>\n  </form>\n</ng-template>\n"]},"metadata":{},"sourceType":"module"}