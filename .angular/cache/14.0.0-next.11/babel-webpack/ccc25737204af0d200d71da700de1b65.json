{"ast":null,"code":"import log from 'loglevel';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../auth/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction LoginLogoutComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 1);\n    i0.ɵɵlistener(\"submit\", function LoginLogoutComponent_form_0_Template_form_submit_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onLogout());\n    });\n    i0.ɵɵelementStart(1, \"button\", 2)(2, \"span\");\n    i0.ɵɵtext(3, \"Logout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"i\", 3);\n    i0.ɵɵtext(5, \"chevron_right\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nexport class LoginLogoutComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    log.debug('LoginLogoutComponent.constructor()');\n  }\n\n  ngOnInit() {\n    log.debug('LoginLogoutComponent.ngOnInit: ', this.authService.isLoggedIn);\n    this.isLoggedIn$ = this.authService.isLoggedIn$;\n    this.isLoggedIn$.subscribe(); // Initialisierung, falls zwischenzeitlich der Browser geschlossen wurde\n\n    this.init = this.authService.isLoggedIn;\n  }\n\n  onLogin() {\n    log.debug('LoginLogoutComponent.onLogin()');\n\n    if (this.username === undefined || this.username === null) {\n      return;\n    }\n\n    const loginResult = this.authService.login(this.username, this.password);\n    this.init = false;\n    return loginResult;\n  }\n  /**\r\n   * Ausloggen und dabei Benutzername und Passwort zur&uuml;cksetzen.\r\n   */\n\n\n  onLogout() {\n    log.debug('LoginLogoutComponent.onLogout()');\n    this.authService.logout();\n    this.init = false;\n    this.isLoggedIn$.next(false);\n    return this.router.navigate(['/']);\n  }\n\n}\n\nLoginLogoutComponent.ɵfac = function LoginLogoutComponent_Factory(t) {\n  return new (t || LoginLogoutComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nLoginLogoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginLogoutComponent,\n  selectors: [[\"hs-login-logout\"]],\n  decls: 2,\n  vars: 4,\n  consts: [[\"class\", \"row row-cols-md-auto g-3 align-items-center\", \"autocomplete\", \"off\", \"role\", \"form\", 3, \"submit\", 4, \"ngIf\", \"ngIfElse\"], [\"autocomplete\", \"off\", \"role\", \"form\", 1, \"row\", \"row-cols-md-auto\", \"g-3\", \"align-items-center\", 3, \"submit\"], [\"type\", \"submit\", 1, \"btn\", \"btn-link\", \"text-light\", \"text-decoration-none\", \"d-flex\", \"align-items-center\"], [1, \"material-icons\", \"md-48\"]],\n  template: function LoginLogoutComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, LoginLogoutComponent_form_0_Template, 6, 0, \"form\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.isLoggedIn$) || ctx.init)(\"ngIfElse\", ctx.login);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i3.AsyncPipe],\n  styles: [\"small[_ngcontent-%COMP%], input[_ngcontent-%COMP%] {\\n  color: whitesmoke;\\n}\\n\\n\\n\\n  .mat-form-field.mat-focused .mat-form-field-label {\\n  color: whitesmoke !important;\\n}\\n\\n\\n\\n  .mat-focused .mat-form-field-underline .mat-form-field-ripple {\\n  background-color: whitesmoke !important;\\n}\\n\\n\\n\\n  .mat-form-field-underline {\\n  background-color: whitesmoke !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztFQUVFLGlCQUFBO0FBQ0Y7O0FBRUEsa0NBQUE7O0FBQ0E7RUFDRSw0QkFBQTtBQUNGOztBQUVBLHNDQUFBOztBQUNBO0VBQ0UsdUNBQUE7QUFDRjs7QUFFQSxxQkFBQTs7QUFDQTtFQUNFLHVDQUFBO0FBQ0YiLCJmaWxlIjoibG9naW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJzbWFsbCxcclxuaW5wdXQge1xyXG4gIGNvbG9yOiB3aGl0ZXNtb2tlO1xyXG59XHJcblxyXG4vKiBDaGFuZ2UgbGFiZWwgY29sb3Igb24gZm9jdXNlZCAqL1xyXG46Om5nLWRlZXAgLm1hdC1mb3JtLWZpZWxkLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC1sYWJlbCB7XHJcbiAgY29sb3I6IHdoaXRlc21va2UgIWltcG9ydGFudDtcclxufVxyXG5cclxuLyogdW5kZXJsaW5lIGJvcmRlciBjb2xvciBvbiBmb2N1c2VkICovXHJcbjo6bmctZGVlcCAubWF0LWZvY3VzZWQgLm1hdC1mb3JtLWZpZWxkLXVuZGVybGluZSAubWF0LWZvcm0tZmllbGQtcmlwcGxlIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZXNtb2tlICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi8qIHVuZGVybGluZSBib3JkZXIgKi9cclxuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC11bmRlcmxpbmUge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlc21va2UgIWltcG9ydGFudDtcclxufVxyXG4iXX0= */\"]\n});","map":{"version":3,"mappings":"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","names":["log","i0","LoginLogoutComponent","constructor","authService","router","debug","ngOnInit","isLoggedIn","isLoggedIn$","subscribe","init","onLogin","username","undefined","loginResult","login","password","onLogout","logout","next","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Student\\Desktop\\Fahrzeug\\Fahrzeug-A2\\src\\app\\layout\\header\\login-logout.component.ts","C:\\Users\\Student\\Desktop\\Fahrzeug\\Fahrzeug-A2\\src\\app\\layout\\header\\login-logout.component.html"],"sourcesContent":["import { Component, type OnInit } from '@angular/core';\nimport { AuthService } from '../../auth/auth.service';\nimport { Subject } from 'rxjs';\nimport { Router } from '@angular/router';\nimport log from 'loglevel';\n\n@Component({\n    selector: 'hs-login-logout',\n    templateUrl: './login-logout.component.html',\n    styleUrls: ['./login.component.scss'],\n})\nexport class LoginLogoutComponent implements OnInit {\n    username: string | undefined;\n    password: string | undefined;\n\n    isLoggedIn$!: Subject<boolean>;\n    init!: boolean;\n\n    constructor(\n        private readonly authService: AuthService,\n        private readonly router: Router,\n    ) {\n        log.debug('LoginLogoutComponent.constructor()');\n    }\n\n    ngOnInit() {\n        log.debug(\n            'LoginLogoutComponent.ngOnInit: ',\n            this.authService.isLoggedIn,\n        );\n\n        this.isLoggedIn$ = this.authService.isLoggedIn$;\n        this.isLoggedIn$.subscribe();\n\n        // Initialisierung, falls zwischenzeitlich der Browser geschlossen wurde\n        this.init = this.authService.isLoggedIn;\n    }\n\n    onLogin() {\n        log.debug('LoginLogoutComponent.onLogin()');\n        if (this.username === undefined || this.username === null) {\n            return;\n        }\n        const loginResult = this.authService.login(\n            this.username,\n            this.password,\n        );\n        this.init = false;\n        return loginResult;\n    }\n\n    /**\n     * Ausloggen und dabei Benutzername und Passwort zur&uuml;cksetzen.\n     */\n    onLogout() {\n        log.debug('LoginLogoutComponent.onLogout()');\n        this.authService.logout();\n        this.init = false;\n        this.isLoggedIn$.next(false);\n        return this.router.navigate(['/']);\n    }\n}\n","<form\n  class=\"row row-cols-md-auto g-3 align-items-center\"\n  autocomplete=\"off\"\n  role=\"form\"\n  (submit)=\"onLogout()\"\n  *ngIf=\"(isLoggedIn$ | async) || init; else login\"\n>\n  <button\n    type=\"submit\"\n    class=\"btn btn-link text-light text-decoration-none d-flex align-items-center\"\n  >\n    <span>Logout</span>\n    <i class=\"material-icons md-48\">chevron_right</i>\n  </button>\n</form>\n"]},"metadata":{},"sourceType":"module"}