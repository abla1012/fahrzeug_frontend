{"ast":null,"code":"import { ROLLE_ADMIN } from '../../auth/auth.service'; // eslint-disable-line @typescript-eslint/consistent-type-imports\n\nimport { BehaviorSubject } from 'rxjs';\nimport log from 'loglevel';\nimport { tap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../auth/auth.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"./login-logout.component\";\n\nfunction NavComponent_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 2)(1, \"a\", 3)(2, \"i\", 4);\n    i0.ɵɵtext(3, \"search\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 5);\n    i0.ɵɵtext(5, \"Suche\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction NavComponent_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 2)(1, \"a\", 6)(2, \"i\", 4);\n    i0.ɵɵtext(3, \"local_shipping\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 5);\n    i0.ɵɵtext(5, \"Neues Fahrzeug\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nexport class NavComponent {\n  constructor(authService) {\n    this.authService = authService;\n    this.isAdmin$ = new BehaviorSubject(false);\n    log.debug('NavComponent.constructor()');\n  }\n\n  ngOnInit() {\n    if (this.authService.isAdmin) {\n      log.debug('NavComponent.ngOnInit: bereits als admin eingeloggt');\n      this.isAdmin$.next(true);\n    }\n\n    this.authService.rollen$.pipe(tap(rollen => // ein neues Observable vom Typ boolean\n    this.isAdmin$.next(rollen.includes(ROLLE_ADMIN)))) // das Subject von AuthService abonnieren bzw. beobachten\n    .subscribe();\n  }\n\n}\n\nNavComponent.ɵfac = function NavComponent_Factory(t) {\n  return new (t || NavComponent)(i0.ɵɵdirectiveInject(i1.AuthService));\n};\n\nNavComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NavComponent,\n  selectors: [[\"hs-nav\"]],\n  decls: 6,\n  vars: 6,\n  consts: [[1, \"navbar-nav\", \"me-auto\"], [\"class\", \"nav-item\", 4, \"ngIf\"], [1, \"nav-item\"], [\"routerLink\", \"/fahrzeuge/suche\", \"routerLinkActive\", \"active\", \"aria-label\", \"Suche Fahrzeuge\", 1, \"nav-link\", \"d-flex\", \"align-content-center\", \"text-light\"], [1, \"material-icons\"], [1, \"ms-1\"], [\"routerLink\", \"/fahrzeuge/create\", \"aria-label\", \"Neues Fahrzeug anlegen\", 1, \"nav-link\", \"d-flex\", \"align-content-center\", \"text-light\"]],\n  template: function NavComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ul\", 0);\n      i0.ɵɵtemplate(1, NavComponent_li_1_Template, 6, 0, \"li\", 1);\n      i0.ɵɵpipe(2, \"async\");\n      i0.ɵɵtemplate(3, NavComponent_li_3_Template, 6, 0, \"li\", 1);\n      i0.ɵɵpipe(4, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"hs-login-logout\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 2, ctx.isAdmin$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 4, ctx.isAdmin$));\n    }\n  },\n  dependencies: [i2.NgIf, i3.RouterLinkWithHref, i3.RouterLinkActive, i4.LoginLogoutComponent, i2.AsyncPipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["ROLLE_ADMIN","BehaviorSubject","log","tap","i0","NavComponent","constructor","authService","debug","ngOnInit","isAdmin","isAdmin$","next","rollen$","pipe","rollen","includes","subscribe","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Student\\Desktop\\Fahrzeug\\Fahrzeug-A2\\src\\app\\layout\\header\\nav.component.ts","C:\\Users\\Student\\Desktop\\Fahrzeug\\Fahrzeug-A2\\src\\app\\layout\\header\\nav.component.html"],"sourcesContent":["import { AuthService, ROLLE_ADMIN } from '../../auth/auth.service'; // eslint-disable-line @typescript-eslint/consistent-type-imports\nimport { Component, type OnInit } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport log from 'loglevel';\nimport { tap } from 'rxjs/operators';\n\n@Component({\n    selector: 'hs-nav',\n    templateUrl: './nav.component.html',\n})\nexport class NavComponent implements OnInit {\n    isAdmin$ = new BehaviorSubject(false);\n\n    constructor(private readonly authService: AuthService) {\n        log.debug('NavComponent.constructor()');\n    }\n\n    ngOnInit() {\n        if (this.authService.isAdmin) {\n            log.debug('NavComponent.ngOnInit: bereits als admin eingeloggt');\n            this.isAdmin$.next(true);\n        }\n\n        this.authService.rollen$\n            .pipe(\n                tap((rollen: string[]) =>\n                    // ein neues Observable vom Typ boolean\n                    this.isAdmin$.next(rollen.includes(ROLLE_ADMIN)),\n                ),\n            )\n            // das Subject von AuthService abonnieren bzw. beobachten\n            .subscribe();\n    }\n}\n","<ul class=\"navbar-nav me-auto\">\n  <li class=\"nav-item\" *ngIf=\"isAdmin$ | async\">\n    <a\n      routerLink=\"/fahrzeuge/suche\"\n      routerLinkActive=\"active\"\n      class=\"nav-link d-flex align-content-center text-light\"\n      aria-label=\"Suche Fahrzeuge\"\n    >\n      <i class=\"material-icons\">search</i>\n      <span class=\"ms-1\">Suche</span>\n    </a>\n  </li>\n\n  <li class=\"nav-item\" *ngIf=\"isAdmin$ | async\">\n    <a\n      routerLink=\"/fahrzeuge/create\"\n      class=\"nav-link d-flex align-content-center text-light\"\n      aria-label=\"Neues Fahrzeug anlegen\"\n    >\n      <i class=\"material-icons\">local_shipping</i>\n      <span class=\"ms-1\">Neues Fahrzeug</span>\n    </a>\n  </li>\n</ul>\n\n<hs-login-logout></hs-login-logout>\n"]},"metadata":{},"sourceType":"module"}