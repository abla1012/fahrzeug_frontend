{"ast":null,"code":"/* eslint-disable max-classes-per-file */\nimport { ROLLE_ADMIN } from '../../../auth/auth.service'; // eslint-disable-line @typescript-eslint/consistent-type-imports\n// eslint-disable-next-line @typescript-eslint/consistent-type-imports\n\nimport { RemoveError } from '../../shared';\nimport { first, tap } from 'rxjs/operators';\nimport { NgLocalization } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport log from 'loglevel';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../auth/auth.service\";\nimport * as i4 from \"@angular/common\";\n\nfunction GefundeneFahrzeugeComponent_div_0_th_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\")(1, \"span\", 6);\n    i0.ɵɵtext(2, \"Spalte f\\u00FCr Entfernen\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction GefundeneFahrzeugeComponent_div_0_tr_23_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Anh\\u00E4nger\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction GefundeneFahrzeugeComponent_div_0_tr_23_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Nutzfahrzeug\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction GefundeneFahrzeugeComponent_div_0_tr_23_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"PKW\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction GefundeneFahrzeugeComponent_div_0_tr_23_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"unbekannt\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction GefundeneFahrzeugeComponent_div_0_tr_23_td_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\")(1, \"span\", 18);\n    i0.ɵɵlistener(\"click\", function GefundeneFahrzeugeComponent_div_0_tr_23_td_17_Template_span_click_1_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const fahrzeug_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.onRemove(fahrzeug_r6));\n    });\n    i0.ɵɵelementStart(2, \"i\", 3);\n    i0.ɵɵtext(3, \"delete\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nconst _c0 = function (a1) {\n  return [\"..\", a1];\n};\n\nconst _c1 = function (a0) {\n  return {\n    fahrzeug: a0\n  };\n};\n\nfunction GefundeneFahrzeugeComponent_div_0_tr_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 13);\n    i0.ɵɵlistener(\"click\", function GefundeneFahrzeugeComponent_div_0_tr_23_Template_td_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const fahrzeug_r6 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.onClick(fahrzeug_r6));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 13);\n    i0.ɵɵlistener(\"click\", function GefundeneFahrzeugeComponent_div_0_tr_23_Template_td_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const fahrzeug_r6 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.onClick(fahrzeug_r6));\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 13);\n    i0.ɵɵlistener(\"click\", function GefundeneFahrzeugeComponent_div_0_tr_23_Template_td_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const fahrzeug_r6 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r19.onClick(fahrzeug_r6));\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 13);\n    i0.ɵɵlistener(\"click\", function GefundeneFahrzeugeComponent_div_0_tr_23_Template_td_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const fahrzeug_r6 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r20.onClick(fahrzeug_r6));\n    });\n    i0.ɵɵelementStart(8, \"span\", 14);\n    i0.ɵɵtemplate(9, GefundeneFahrzeugeComponent_div_0_tr_23_span_9_Template, 2, 0, \"span\", 15);\n    i0.ɵɵtemplate(10, GefundeneFahrzeugeComponent_div_0_tr_23_span_10_Template, 2, 0, \"span\", 15);\n    i0.ɵɵtemplate(11, GefundeneFahrzeugeComponent_div_0_tr_23_span_11_Template, 2, 0, \"span\", 15);\n    i0.ɵɵtemplate(12, GefundeneFahrzeugeComponent_div_0_tr_23_span_12_Template, 2, 0, \"span\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\")(14, \"a\", 17)(15, \"i\", 3);\n    i0.ɵɵtext(16, \"search\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(17, GefundeneFahrzeugeComponent_div_0_tr_23_td_17_Template, 4, 0, \"td\", 7);\n    i0.ɵɵpipe(18, \"async\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const fahrzeug_r6 = ctx.$implicit;\n    const idx_r7 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(idx_r7 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fahrzeug_r6.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fahrzeug_r6.kennzeichen);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngSwitch\", fahrzeug_r6.fahrzeugtype);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"A\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"N\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"P\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(12, _c0, fahrzeug_r6.id))(\"state\", i0.ɵɵpureFunction1(14, _c1, fahrzeug_r6));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isAdmin || i0.ɵɵpipeBind1(18, 10, ctx_r2.isAdmin$));\n  }\n}\n\nfunction GefundeneFahrzeugeComponent_div_0_ng_template_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" Es gibt kein Fahrzeug \");\n  }\n}\n\nfunction GefundeneFahrzeugeComponent_div_0_ng_template_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" Es gibt ein Fahrzeug \");\n  }\n}\n\nfunction GefundeneFahrzeugeComponent_div_0_ng_template_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵtextInterpolate1(\" Es gibt \", ctx_r5.fahrzeuge.length, \" Fahrzeuge \");\n  }\n}\n\nfunction GefundeneFahrzeugeComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2)(2, \"i\", 3);\n    i0.ɵɵtext(3, \"folder_open\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 4);\n    i0.ɵɵtext(5, \"Gefundene Fahrzeuge\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\")(7, \"table\", 5)(8, \"thead\")(9, \"th\");\n    i0.ɵɵtext(10, \"Nr.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Kennzeichen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Fahrzeugtyp\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\")(18, \"span\", 6);\n    i0.ɵɵtext(19, \"Spalte f\\u00FCr Details\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(20, GefundeneFahrzeugeComponent_div_0_th_20_Template, 3, 0, \"th\", 7);\n    i0.ɵɵpipe(21, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"tbody\");\n    i0.ɵɵtemplate(23, GefundeneFahrzeugeComponent_div_0_tr_23_Template, 19, 16, \"tr\", 8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"div\")(25, \"div\")(26, \"i\", 3);\n    i0.ɵɵtext(27, \"info\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"span\", 9);\n    i0.ɵɵtemplate(29, GefundeneFahrzeugeComponent_div_0_ng_template_29_Template, 1, 0, \"ng-template\", 10);\n    i0.ɵɵtemplate(30, GefundeneFahrzeugeComponent_div_0_ng_template_30_Template, 1, 0, \"ng-template\", 11);\n    i0.ɵɵtemplate(31, GefundeneFahrzeugeComponent_div_0_ng_template_31_Template, 1, 1, \"ng-template\", 12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(32, \"div\")(33, \"i\", 3);\n    i0.ɵɵtext(34, \"info\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"span\", 4);\n    i0.ɵɵtext(36, \" Zur Anzeige der JSON-Datens\\u00E4tze in gefundene-fahrzeuge.html am Dateiende den Kommentar in Zeile 83 entfernen \");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isAdmin || i0.ɵɵpipeBind1(21, 4, ctx_r0.isAdmin$));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.fahrzeuge)(\"ngForTrackBy\", ctx_r0.trackBy);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngPlural\", ctx_r0.fahrzeuge.length);\n  }\n}\n/**\r\n * Komponente f&uuml;r das Tag <code>hs-gefundene-buecher</code>, um zun&auml;chst\r\n * das Warten und danach das Ergebnis der Suche anzuzeigen, d.h. die gefundenen\r\n * B&uuml;cher oder eine Fehlermeldung.\r\n */\n\n\nexport class GefundeneFahrzeugeComponent {\n  // eslint-disable-next-line max-params\n  constructor(service, router, authService, writeService) {\n    this.service = service;\n    this.router = router;\n    this.authService = authService;\n    this.writeService = writeService;\n    this.fahrzeuge = []; // nachtraegliches Einloggen mit der Rolle \"admin\" beobachten\n\n    this.isAdmin$ = new Subject();\n    log.debug('GefundeneFahrzeugeComponent.constructor()');\n  }\n\n  ngOnInit() {\n    log.debug('GefundeneFahrzeugeComponent.ngOnInit()');\n    this.isAdmin = this.authService.isAdmin;\n    this.authService.rollen$.pipe(first(), tap(rollen => // ein neues Observable vom Typ boolean\n    this.isAdmin$.next(rollen.includes(ROLLE_ADMIN)))) // das Subject von AuthService abonnieren bzw. beobachten\n    .subscribe();\n  }\n  /**\r\n   * Das ausgew&auml;hlte bzw. angeklickte Fahrzeug in der Detailsseite anzeigen.\r\n   * @param fahrzeug Das ausgew&auml;hlte Fahrzeug\r\n   */\n\n\n  onClick(fahrzeug) {\n    log.debug('GefundeneFahrzeugeComponent.onClick: fahrzeug=', fahrzeug); // URL mit der Fahrzeug-ID, um ein Bookmark zu ermoeglichen\n    // Gefundenes Fahrzeug als NavigationExtras im Router puffern\n\n    const state = {\n      fahrzeug\n    };\n    return this.router.navigate([`/fahrzeuge/${fahrzeug.id}`], {\n      state\n    });\n  }\n  /**\r\n   * Das angeklickte fahrzeug loeschen.\r\n   * @param fahrzeug Das fahrzeug\r\n   */\n\n\n  onRemove(fahrzeug) {\n    log.debug('GefundeneFahrzeugComponent.onRemove: fahrzeug=', fahrzeug);\n    return this.writeService.remove(fahrzeug).pipe(first(), tap(result => {\n      if (result instanceof RemoveError) {\n        log.debug('GefundeneBuecherComponent.onRemove: statuscode=', result.statuscode);\n        return;\n      }\n\n      this.fahrzeuge = this.fahrzeuge.filter(f => f.id !== fahrzeug.id);\n    })).subscribe();\n  }\n\n  trackBy(_index, fahrzeug) {\n    return fahrzeug.id;\n  }\n\n}\n\nGefundeneFahrzeugeComponent.ɵfac = function GefundeneFahrzeugeComponent_Factory(t) {\n  return new (t || GefundeneFahrzeugeComponent)(i0.ɵɵdirectiveInject(i1.FahrzeugReadService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i1.FahrzeugWriteService));\n};\n\nGefundeneFahrzeugeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GefundeneFahrzeugeComponent,\n  selectors: [[\"hs-gefundene-fahrzeuge\"]],\n  inputs: {\n    fahrzeuge: \"fahrzeuge\"\n  },\n  decls: 1,\n  vars: 1,\n  consts: [[\"aria-label\", \"Gefundene Fahrzeuge\", \"class\", \"d-flex flex-column align-items-center mb-5\", 4, \"ngIf\"], [\"aria-label\", \"Gefundene Fahrzeuge\", 1, \"d-flex\", \"flex-column\", \"align-items-center\", \"mb-5\"], [1, \"d-flex\", \"align-items-center\", \"mb-3\", \"mt-5\"], [1, \"material-icons\"], [1, \"ms-1\"], [1, \"table\", \"table-responsive\", \"mx-auto\"], [1, \"visually-hidden\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"ms-1\", 3, \"ngPlural\"], [\"ngPluralCase\", \"=0\"], [\"ngPluralCase\", \"=1\"], [\"ngPluralCase\", \"other\"], [3, \"click\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [4, \"ngSwitchDefault\"], [\"title\", \"Details anzeigen\", 3, \"routerLink\", \"state\"], [\"title\", \"Entfernen\", 3, \"click\"]],\n  template: function GefundeneFahrzeugeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, GefundeneFahrzeugeComponent_div_0_Template, 37, 6, \"div\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.fahrzeuge.length);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i4.NgSwitch, i4.NgSwitchCase, i4.NgSwitchDefault, i4.NgPlural, i4.NgPluralCase, i2.RouterLinkWithHref, i4.AsyncPipe],\n  styles: [\"*[_ngcontent-%COMP%] {\\n  color: whitesmoke !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlZnVuZGVuZS1mYWhyemV1Z2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSw0QkFBQTtBQUNGIiwiZmlsZSI6ImdlZnVuZGVuZS1mYWhyemV1Z2UuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIqIHtcclxuICBjb2xvcjogd2hpdGVzbW9rZSAhaW1wb3J0YW50O1xyXG59XHJcbiJdfQ== */\"]\n});\nexport class AnzahlLocalization extends NgLocalization {\n  getPluralCategory(count) {\n    return count === 1 ? 'single' : 'multi';\n  }\n\n}","map":{"version":3,"mappings":"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","names":["ROLLE_ADMIN","RemoveError","first","tap","NgLocalization","Subject","log","i0","ctx_r0","GefundeneFahrzeugeComponent","constructor","service","router","authService","writeService","debug","ngOnInit","isAdmin","rollen$","pipe","rollen","isAdmin$","next","includes","subscribe","onClick","fahrzeug","state","navigate","id","onRemove","remove","result","statuscode","fahrzeuge","filter","f","trackBy","_index","selectors","inputs","decls","vars","consts","template","AnzahlLocalization","getPluralCategory","count"],"sourceRoot":"","sources":["C:\\Users\\Student\\Desktop\\Fahrzeug\\Fahrzeug-A2\\src\\app\\fahrzeug\\suche-fahrzeug\\gefundene-fahrzeuge\\gefundene-fahrzeuge.component.ts","C:\\Users\\Student\\Desktop\\Fahrzeug\\Fahrzeug-A2\\src\\app\\fahrzeug\\suche-fahrzeug\\gefundene-fahrzeuge\\gefundene-fahrzeuge.component.html"],"sourcesContent":["/* eslint-disable max-classes-per-file */\n\nimport { AuthService, ROLLE_ADMIN } from '../../../auth/auth.service'; // eslint-disable-line @typescript-eslint/consistent-type-imports\nimport { Component, Input, type OnInit } from '@angular/core';\n// eslint-disable-next-line @typescript-eslint/consistent-type-imports\nimport {\n    type Fahrzeug,\n    FahrzeugReadService,\n    FahrzeugWriteService,\n    RemoveError,\n} from '../../shared';\nimport { first, tap } from 'rxjs/operators';\nimport { NgLocalization } from '@angular/common';\nimport { Router } from '@angular/router'; // eslint-disable-line @typescript-eslint/consistent-type-imports\nimport { Subject } from 'rxjs';\nimport log from 'loglevel';\n\n/**\n * Komponente f&uuml;r das Tag <code>hs-gefundene-buecher</code>, um zun&auml;chst\n * das Warten und danach das Ergebnis der Suche anzuzeigen, d.h. die gefundenen\n * B&uuml;cher oder eine Fehlermeldung.\n */\n@Component({\n    selector: 'hs-gefundene-fahrzeuge',\n    templateUrl: './gefundene-fahrzeuge.component.html',\n    styleUrls: ['./gefundene-fahrzeuge.component.scss'],\n})\nexport class GefundeneFahrzeugeComponent implements OnInit {\n    @Input()\n    fahrzeuge: Fahrzeug[] = [];\n\n    isAdmin!: boolean;\n\n    // nachtraegliches Einloggen mit der Rolle \"admin\" beobachten\n    isAdmin$ = new Subject<boolean>();\n\n    // eslint-disable-next-line max-params\n    constructor(\n        private readonly service: FahrzeugReadService,\n        private readonly router: Router,\n        private readonly authService: AuthService,\n        private readonly writeService: FahrzeugWriteService,\n    ) {\n        log.debug('GefundeneFahrzeugeComponent.constructor()');\n    }\n\n    ngOnInit() {\n        log.debug('GefundeneFahrzeugeComponent.ngOnInit()');\n        this.isAdmin = this.authService.isAdmin;\n\n        this.authService.rollen$\n            .pipe(\n                first(),\n                tap((rollen: string[]) =>\n                    // ein neues Observable vom Typ boolean\n                    this.isAdmin$.next(rollen.includes(ROLLE_ADMIN)),\n                ),\n            )\n            // das Subject von AuthService abonnieren bzw. beobachten\n            .subscribe();\n    }\n\n    /**\n     * Das ausgew&auml;hlte bzw. angeklickte Fahrzeug in der Detailsseite anzeigen.\n     * @param fahrzeug Das ausgew&auml;hlte Fahrzeug\n     */\n    onClick(fahrzeug: Fahrzeug) {\n        log.debug('GefundeneFahrzeugeComponent.onClick: fahrzeug=', fahrzeug);\n\n        // URL mit der Fahrzeug-ID, um ein Bookmark zu ermoeglichen\n        // Gefundenes Fahrzeug als NavigationExtras im Router puffern\n        const state = { fahrzeug };\n        return this.router.navigate([`/fahrzeuge/${fahrzeug.id}`], { state });\n    }\n\n    /**\n     * Das angeklickte fahrzeug loeschen.\n     * @param fahrzeug Das fahrzeug\n     */\n    onRemove(fahrzeug: Fahrzeug) {\n        log.debug('GefundeneFahrzeugComponent.onRemove: fahrzeug=', fahrzeug);\n\n        return this.writeService\n            .remove(fahrzeug)\n            .pipe(\n                first(),\n                tap(result => {\n                    if (result instanceof RemoveError) {\n                        log.debug(\n                            'GefundeneBuecherComponent.onRemove: statuscode=',\n                            result.statuscode,\n                        );\n                        return;\n                    }\n\n                    this.fahrzeuge = this.fahrzeuge.filter(\n                        f => f.id !== fahrzeug.id,\n                    );\n                }),\n            )\n            .subscribe();\n    }\n\n    trackBy(_index: number, fahrzeug: Fahrzeug) {\n        return fahrzeug.id;\n    }\n}\n\nexport class AnzahlLocalization extends NgLocalization {\n    getPluralCategory(count: number) {\n        return count === 1 ? 'single' : 'multi';\n    }\n}\n\n/* eslint-enable max-classes-per-file */\n","<div\n  aria-label=\"Gefundene Fahrzeuge\"\n  *ngIf=\"fahrzeuge.length\"\n  class=\"d-flex flex-column align-items-center mb-5\"\n>\n  <div class=\"d-flex align-items-center mb-3 mt-5\">\n    <i class=\"material-icons\">folder_open</i>\n    <span class=\"ms-1\">Gefundene Fahrzeuge</span>\n  </div>\n  <div>\n    <table class=\"table table-responsive mx-auto\">\n      <thead>\n        <th>Nr.</th>\n        <th>ID</th>\n        <th>Kennzeichen</th>\n        <th>Fahrzeugtyp</th>\n        <th>\n          <span class=\"visually-hidden\">Spalte f&uuml;r Details</span>\n        </th>\n        <th *ngIf=\"isAdmin || (isAdmin$ | async)\">\n          <span class=\"visually-hidden\">Spalte f&uuml;r Entfernen</span>\n        </th>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let fahrzeug of fahrzeuge; index as idx; trackBy: trackBy\">\n          <td (click)=\"onClick(fahrzeug)\">{{ idx + 1 }}</td>\n          <td (click)=\"onClick(fahrzeug)\">{{ fahrzeug.id }}</td>\n          <td (click)=\"onClick(fahrzeug)\">{{ fahrzeug.kennzeichen }}</td>\n          <td (click)=\"onClick(fahrzeug)\">\n            <span [ngSwitch]=\"fahrzeug.fahrzeugtype\">\n              <span *ngSwitchCase=\"'A'\">Anhänger</span>\n              <span *ngSwitchCase=\"'N'\">Nutzfahrzeug</span>\n              <span *ngSwitchCase=\"'P'\">PKW</span>\n              <span *ngSwitchDefault>unbekannt</span>\n            </span>\n          </td>\n          <td>\n            <!-- Pfad /:id, in fahrzeug-routing.module.ts -->\n            <a\n              [routerLink]=\"['..', fahrzeug.id]\"\n              [state]=\"{ fahrzeug }\"\n              title=\"Details anzeigen\"\n            >\n              <i class=\"material-icons\">search</i>\n            </a>\n          </td>\n          <!-- implizites \"unsubscribe()\" durch async -->\n          <td *ngIf=\"isAdmin || (isAdmin$ | async)\">\n            <span (click)=\"onRemove(fahrzeug)\" title=\"Entfernen\">\n              <i class=\"material-icons\">delete</i>\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div>\n    <div>\n      <i class=\"material-icons\">info</i>\n      <span class=\"ms-1\" [ngPlural]=\"fahrzeuge.length\">\n        <!-- zu vergleichender Ausdruck -->\n        <ng-template ngPluralCase=\"=0\"> Es gibt kein Fahrzeug </ng-template>\n        <ng-template ngPluralCase=\"=1\"> Es gibt ein Fahrzeug </ng-template>\n        <ng-template ngPluralCase=\"other\">\n          Es gibt {{ fahrzeuge.length }} Fahrzeuge\n        </ng-template>\n      </span>\n    </div>\n\n    <div>\n      <i class=\"material-icons\">info</i>\n      <span class=\"ms-1\">\n        Zur Anzeige der JSON-Datensätze in gefundene-fahrzeuge.html am Dateiende\n        den Kommentar in Zeile 83 entfernen\n      </span>\n    </div>\n  </div>\n</div>\n\n<!-- Ausgabe im Webbrowser durch: -->\n<!-- <pre>{{fahrzeuge | json}}</pre> -->\n"]},"metadata":{},"sourceType":"module"}