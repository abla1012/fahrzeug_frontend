{"ast":null,"code":"import log from 'loglevel';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../auth/auth.service\";\nimport * as i2 from \"@angular/router\";\n\nfunction LoginLogoutComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 2);\n    i0.ɵɵlistener(\"submit\", function LoginLogoutComponent_form_0_Template_form_submit_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onLogout());\n    });\n    i0.ɵɵelementStart(1, \"button\", 3)(2, \"span\", 4);\n    i0.ɵɵtext(3, \"Logout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"i\", 5);\n    i0.ɵɵtext(5, \"chevron_right\");\n    i0.ɵɵelementEnd()()();\n  }\n}\n\nfunction LoginLogoutComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 2);\n    i0.ɵɵlistener(\"submit\", function LoginLogoutComponent_ng_template_2_Template_form_submit_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onLogin());\n    });\n    i0.ɵɵelementStart(1, \"div\", 6)(2, \"label\", 7)(3, \"small\");\n    i0.ɵɵtext(4, \"Benutzername\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"input\", 8);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginLogoutComponent_ng_template_2_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.username = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 6)(7, \"label\", 9)(8, \"small\");\n    i0.ɵɵtext(9, \"Passwort\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginLogoutComponent_ng_template_2_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.password = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 6)(12, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function LoginLogoutComponent_ng_template_2_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.onLogin());\n    });\n    i0.ɵɵtext(13, \" Login \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.username);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.password);\n  }\n}\n\nexport class LoginLogoutComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    log.debug('LoginLogoutComponent.constructor()');\n  }\n\n  ngOnInit() {\n    log.debug('LoginLogoutComponent.ngOnInit: ', this.authService.isLoggedIn);\n    this.isLoggedIn$ = this.authService.isLoggedIn$;\n    this.isLoggedIn$.subscribe(); // Initialisierung, falls zwischenzeitlich der Browser geschlossen wurde\n\n    this.init = this.authService.isLoggedIn;\n  }\n\n  onLogin() {\n    log.debug('LoginLogoutComponent.onLogin()');\n\n    if (this.username === undefined || this.username === null) {\n      return;\n    }\n\n    const loginResult = this.authService.login(this.username, this.password);\n    this.init = false;\n    return loginResult;\n  }\n  /**\r\n   * Ausloggen und dabei Benutzername und Passwort zur&uuml;cksetzen.\r\n   */\n\n\n  onLogout() {\n    log.debug('LoginLogoutComponent.onLogout()');\n    this.authService.logout();\n    this.init = false;\n    this.isLoggedIn$.next(false);\n    return this.router.navigate(['/']);\n  }\n\n}\n\nLoginLogoutComponent.ɵfac = function LoginLogoutComponent_Factory(t) {\n  return new (t || LoginLogoutComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nLoginLogoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginLogoutComponent,\n  selectors: [[\"hs-login-logout\"]],\n  decls: 4,\n  vars: 4,\n  consts: [[\"class\", \"row row-cols-md-auto g-3 align-items-center\", \"autocomplete\", \"off\", \"role\", \"form\", 3, \"submit\", 4, \"ngIf\", \"ngIfElse\"], [\"login\", \"\"], [\"autocomplete\", \"off\", \"role\", \"form\", 1, \"row\", \"row-cols-md-auto\", \"g-3\", \"align-items-center\", 3, \"submit\"], [\"type\", \"submit\", 1, \"btn\", \"btn-link\", \"text-light\"], [1, \"me-1\"], [1, \"material-icons\", \"md-48\"], [1, \"col-12\"], [\"for\", \"usernameInput\", 1, \"col-form-label\"], [\"id\", \"usernameInput\", \"type\", \"search\", \"tabindex\", \"1\", \"autocomplete\", \"off\", \"required\", \"\", \"name\", \"username\", 1, \"form-control\", \"form-control-sm\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"passwordInput\", 1, \"col-form-label\"], [\"id\", \"passwordInput\", \"type\", \"password\", \"tabindex\", \"2\", \"autocomplete\", \"off\", \"required\", \"\", \"name\", \"password\", 1, \"form-control\", \"form-control-sm\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", \"tabindex\", \"3\", 1, \"btn\", \"btn-link\", \"text-light\", \"text-decoration-none\", 3, \"click\"]],\n  template: function LoginLogoutComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, LoginLogoutComponent_form_0_Template, 6, 0, \"form\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, LoginLogoutComponent_ng_template_2_Template, 14, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(3);\n\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.isLoggedIn$) || ctx.init)(\"ngIfElse\", _r1);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["log","i0","LoginLogoutComponent","constructor","authService","router","debug","ngOnInit","isLoggedIn","isLoggedIn$","subscribe","init","onLogin","username","undefined","loginResult","login","password","onLogout","logout","next","navigate","selectors","decls","vars","consts","template","_r1"],"sourceRoot":"","sources":["C:\\Users\\Student\\Desktop\\Fahrzeug\\Fahrzeug-A2\\src\\app\\layout\\header\\login-logout.component.ts","C:\\Users\\Student\\Desktop\\Fahrzeug\\Fahrzeug-A2\\src\\app\\layout\\header\\login-logout.component.html"],"sourcesContent":["import { Component, type OnInit } from '@angular/core';\nimport { AuthService } from '../../auth/auth.service';\nimport { Subject } from 'rxjs';\nimport { Router } from '@angular/router';\nimport log from 'loglevel';\n\n@Component({\n    selector: 'hs-login-logout',\n    templateUrl: './login-logout.component.html',\n})\nexport class LoginLogoutComponent implements OnInit {\n    username: string | undefined;\n    password: string | undefined;\n\n    // Observable.subscribe() aus RxJS liefert ein Subscription Objekt,\n    // mit dem man den Request auch abbrechen (\"cancel\") kann\n    // https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/subscribe.md\n    // http://stackoverflow.com/questions/34533197/what-is-the-difference-between-rx-observable-subscribe-and-foreach\n    // https://xgrommx.github.io/rx-book/content/observable/observable_instance_methods/subscribe.html\n    // Funktion als Funktionsargument, d.h. Code als Daten uebergeben\n    // Suffix \"$\" wird als \"Finnish Notation\" bezeichnet https://medium.com/@benlesh/observables-and-finnish-notation-df8356ed1c9b\n    isLoggedIn$!: Subject<boolean>;\n    init!: boolean;\n\n    constructor(\n        private readonly authService: AuthService,\n        private readonly router: Router,\n    ) {\n        log.debug('LoginLogoutComponent.constructor()');\n    }\n\n    ngOnInit() {\n        log.debug(\n            'LoginLogoutComponent.ngOnInit: ',\n            this.authService.isLoggedIn,\n        );\n\n        this.isLoggedIn$ = this.authService.isLoggedIn$;\n        this.isLoggedIn$.subscribe();\n\n        // Initialisierung, falls zwischenzeitlich der Browser geschlossen wurde\n        this.init = this.authService.isLoggedIn;\n    }\n\n    onLogin() {\n        log.debug('LoginLogoutComponent.onLogin()');\n        if (this.username === undefined || this.username === null) {\n            return;\n        }\n        const loginResult = this.authService.login(\n            this.username,\n            this.password,\n        );\n        this.init = false;\n        return loginResult;\n    }\n\n    /**\n     * Ausloggen und dabei Benutzername und Passwort zur&uuml;cksetzen.\n     */\n    onLogout() {\n        log.debug('LoginLogoutComponent.onLogout()');\n        this.authService.logout();\n        this.init = false;\n        this.isLoggedIn$.next(false);\n        return this.router.navigate(['/']);\n    }\n}\n","<form\n  class=\"row row-cols-md-auto g-3 align-items-center\"\n  autocomplete=\"off\"\n  role=\"form\"\n  (submit)=\"onLogout()\"\n  *ngIf=\"(isLoggedIn$ | async) || init; else login\"\n>\n  <button type=\"submit\" class=\"btn btn-link text-light\">\n    <span class=\"me-1\">Logout</span>\n    <i class=\"material-icons md-48\">chevron_right</i>\n  </button>\n</form>\n\n<ng-template #login>\n  <form\n    class=\"row row-cols-md-auto g-3 align-items-center\"\n    autocomplete=\"off\"\n    role=\"form\"\n    (submit)=\"onLogin()\"\n  >\n    <div class=\"col-12\">\n      <label for=\"usernameInput\" class=\"col-form-label\">\n        <small>Benutzername</small>\n      </label>\n      <input\n        id=\"usernameInput\"\n        type=\"search\"\n        class=\"form-control form-control-sm\"\n        tabindex=\"1\"\n        autocomplete=\"off\"\n        required\n        [(ngModel)]=\"username\"\n        name=\"username\"\n      />\n    </div>\n\n    <div class=\"col-12\">\n      <label for=\"passwordInput\" class=\"col-form-label\">\n        <small>Passwort</small>\n      </label>\n      <input\n        id=\"passwordInput\"\n        type=\"password\"\n        class=\"form-control form-control-sm\"\n        tabindex=\"2\"\n        autocomplete=\"off\"\n        required\n        [(ngModel)]=\"password\"\n        name=\"password\"\n      />\n    </div>\n    <div class=\"col-12\">\n      <button\n        type=\"submit\"\n        class=\"btn btn-link text-light text-decoration-none\"\n        tabindex=\"3\"\n        (click)=\"onLogin()\"\n      >\n        Login\n      </button>\n    </div>\n  </form>\n</ng-template>\n"]},"metadata":{},"sourceType":"module"}